<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="estilo.css" rel="stylesheet">
    <link href="form_estilo.css" rel="stylesheet">
    <link href="formulário.css" rel="stylesheet">
    <link rel="shortcut icon" href="Imagens/Icon Pata.png" type="image/x-icon">
    <title>Formulário de Adoção</title>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #05668D;">
        <div class="container-fluid justify-content-center">
            <a class="navbar-brand">
                <img src="Imagens/Logo - Verde (simples).png" alt="Logo" height="64"
                    class="d-inline-block align-text-top" style="margin-top: -5px;">
            </a>
        </div>
    </nav>

    <!--BARRA DE PROGRESSO DO FORMULÁRIO-->
    <!--Indica em que ponto o adotante está do formulário. Nessa página, 0%, pois ainda não foi iniciado. A barra de progresso avançará de 25% em 25% por cento, pois são 4 páginas de perguntas-->
    <div class="progress custom-progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0"
            aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
    </div>
    <!--FIM DA BARRA DE PROGRESSO-->
    <main>
        <br>
        <div class="margin">
            <div>
                <h5>Agora vamos começar com algumas perguntas para conhecê-lo(a) melhor. Queremos entender um pouco<br>
                    mais
                    sobre você para garantir que tudo esteja alinhado.</h5>
                <h5 style="font-weight: bold;">Vamos lá?</h5>
            </div>
            <div class="princ">
                <div style="margin: 30px;">
                    <form id="myform" action="adotar3.html" method="GET">
                        <br>
                        <div class="row">
                            <div class="col">
                                <label>Nome</label>
                                <input type="text" class=" nome form-control custom-input"
                                    placeholder="Ex: Maria Eduarda" required>
                            </div>

                            <div class="col">
                                <label>Sobrenome</label>
                                <input type="text" class="nome form-control custom-input" placeholder="Ex: Costa"
                                    required>
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-lg-8">
                                <label>Email</label>
                                <input type="email" class="nome form-control custom-input" placeholder="seu@email.com"
                                    required>
                            </div>

                            <div class="col-lg-4">
                                <label>Data de nascimento</label>
                                <input type="text" class="nome form-control custom-input" placeholder="dd/mm/aaaa"
                                    required required maxlength="10" oninput="formatDate(this)">
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col">
                                <label>Telefone</label>
                                <input type="text" id="phone" class="nome form-control custom-input"
                                    placeholder="(00) 00000-0000" required maxlength="15" oninput="formatPhone(this)" />
                            </div>

                            <div class="col">
                                <label>CPF</label>
                                <input type="text" id="cpf" class="nome form-control custom-input"
                                    placeholder="000.000.000-00" required maxlength="14" oninput="formatCPF(this)" />
                            </div>

                            <div class="col">
                                <label>CEP</label>
                                <input type="text" id="cep" class="nome form-control custom-input"
                                    placeholder="00000-000" required maxlength="9" oninput="formatCEP(this)" />
                            </div>
                        </div>
                        <br>
                        <div class="row">
                            <div class="col-lg-6">
                                <label>Endereço</label>
                                <input type="text" class="nome form-control custom-input"
                                    placeholder="Ex: Rua Plácido Lorenzetti" required>
                            </div>

                            <div class="col-lg-2">
                                <label>Número</label>
                                <input type="text" class="nome form-control custom-input" placeholder="Ex: 1024"
                                    required>
                            </div>

                            <div class="col-lg-4">
                                <label>Bairro</label>
                                <input type="text" class="nome form-control custom-input" placeholder="Ex: Bela Vista"
                                    required>
                            </div>
                        </div>
                        <br>
                        <Button type="submit" class="nome btn btn-primary botão" id="prosseguir"
                            disabled>Prosseguir</Button>
                            <br>
                    </form>
                </div>

            </div>
            <br>
    </main>

    <script>
        function formatDate(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length <= 8) {
                value = value.replace(/(\d{2})(\d{1,2})/, '$1/$2');
                value = value.replace(/(\d{2})(\d{1,4})/, '$1/$2');
            }
            input.value = value;
        }

        function formatCPF(input) {
            let value = input.value.replace(/\D/g, '');
            console.log('Original Value:', input.value);
            console.log('Cleaned Value:', value);

            if (value.length <= 11) {
                value = value.replace(/(\d{3})(\d{1,3})/, '$1.$2');
                value = value.replace(/(\d{3})(\d{1,2})/, '$1.$2');
                value = value.replace(/(\d{3})(\d{1,2})/, '$1-$2');
            }

            console.log('Formatted Value:', value);
            input.value = value;
        }

        function formatPhone(input) {
            // Remove caracteres não numéricos
            let value = input.value.replace(/\D/g, '');

            // Adiciona a formatação
            if (value.length <= 11) {
                value = value.replace(/^(\d{2})(\d{0,5})(\d{0,4})/, '($1) $2-$3');
            }
            input.value = value;
        }

        function formatCEP(input) {
            // Remove caracteres não numéricos
            let value = input.value.replace(/\D/g, '');

            // Adiciona a formatação
            if (value.length <= 8) {
                value = value.replace(/(\d{5})(\d{1,3})/, '$1-$2');
            }

            input.value = value;
        }

        document.getElementById('myform').addEventListener('input', checkform);
        //vai procurar no documento um elemento cujo id é 'formulário' e vai adicionar um ouvinte de eventos aos elementos 'input', para que ele realize uma ação assim que um evento ocorrer.
        //nesse caso, o evento é a digitação de algo no input, com o 'checkform' o elemento vai verificar, conforme a ordem do script, se o input está preenchido.

        //para permitir continuar somente se todos os elementos estiverem preenchidos
        function checkform() {
            var form = document.getElementById('myform');
            var next = document.getElementById('prosseguir');
            var inputs = form.querySelectorAll('[required]')
            var allFilled = true;

            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].value.trim() === '') {
                    allFilled = false;
                    break;
                }
            }
            //for - loop, vai repetir esse bloco de código várias vezes
            //i=0 - inicia uma variável chamada "i" com valor "0". Ela é usada como um contador, para comparar com a coleção da variável "inputs"
            //i<inputs.length - É a condicional que define se o loop vai continuar ou não. Ele vai continuar enquanto o número de inputs preenchidos (var i) for menor que inputs.length (quantidade de inputs que devem estar preenchidos da coleção inputs)
            //i++ - após cada repetição do loop, é acrecentado 1 ao valor de "i"
            //inputs[i] - vai acessar o elemento 'i'-ésimo da coleção inputs (o atual elemento, que acabou de ser digitado)
            //.value - obtém o valor do conteúdo que o adotante digitou no input atual
            //.trim - remove todos os espaços em branco extras (tanto no início, quanto no fim), assim, se o adotante colocar só espaços no input, não vai ser reconhecido como preenchido
            //=== - compara o valor do input atual, após remover os espaços vazios, com uma string vazia (''), se o valor for o mesmo, o campo de entrada é considerado como vazio
            //allFilled=false - se a condição if estiver certa (se o campo realemnte estiver vazio), a variável 'allFilled' é definida como 'false', ou seja, nem todos os campos estão preenchidos
            //break - caso algum campo não estiver preenchido, ele vai parar imediatamente, pois não precisa verificar o resto se já tem um que não está preenchido

            next.disabled = !allFilled;

            if (allFilled) {
                next.disabled = false;
            } else {
                next.disabled = true;
            }

            //a variável allFilled está definida como 'true', portanto, se ela estiver verdadeira, o botão vai ser ativado para ir para a próxima página. caso não o botão vai continuar desabilitado
        }

        document.getElementById('myform').addEventListener('submit', function (event) {
            event.preventDefault();
            window.location.href = 'adotar3.html'; // Substitua pelo caminho da próxima página
        });

    </script>
</body>

</html>